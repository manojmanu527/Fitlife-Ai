<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Scan Your Food - FitLife AI</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
  <link href="styles.css" rel="stylesheet" />
</head>
<body class="bg-dark text-light">

  <!-- Navbar -->
  <nav class="navbar navbar-dark bg-black shadow-sm mb-4">
    <div class="container-fluid">
      <a href="dashboard.html" class="navbar-brand fw-bold">← Dashboard</a>
      <span class="navbar-text fw-bold text-success">FitLife AI</span>
    </div>
  </nav>

  <div class="container py-4">
    <h2 class="text-center fw-bold mb-4">AI-Powered Food Scanner</h2>
    <p class="lead text-center mb-4">
      Snap a picture of your meal or upload an image — then see a detailed breakdown of calories and nutrients instantly.
    </p>

    <div class="text-center mb-4">
      <input type="file" id="foodImage" accept="image/*" class="form-control form-control-lg w-auto mx-auto" />
    </div>

    <div class="text-center" id="imagePreviewContainer" style="display:none;">
      <img id="imagePreview" class="img-fluid rounded shadow mb-3" style="max-height: 300px;" />
    </div>

    <div id="nutritionResult" class="card bg-gradient shadow p-4 text-dark" style="background: #e2eaf1; display:none; max-width: 600px; margin: 0 auto;">
      <h4 class="fw-semibold">Nutrition Breakdown</h4>
      <ul class="list-group list-group-flush">
        <li class="list-group-item"><strong>Calories:</strong> <span id="calories">--</span> kcal</li>
        <li class="list-group-item"><strong>Protein:</strong> <span id="protein">--</span> g</li>
        <li class="list-group-item"><strong>Carbohydrates:</strong> <span id="carbs">--</span> g</li>
        <li class="list-group-item"><strong>Fats:</strong> <span id="fat">--</span> g</li>
        <li class="list-group-item"><strong>Fiber:</strong> <span id="fiber">--</span> g</li>
      </ul>
    </div>

    <div class="text-center mt-5">
      <a href="diet.html" class="btn btn-outline-dark btn-lg me-3">Back to Diet Plan</a>
      <a href="dashboard.html" class="btn btn-success btn-lg">Back to Dashboard</a>
    </div>
  </div>

  <script>
    const foodImageInput = document.getElementById('foodImage');
    const imagePreview = document.getElementById('imagePreview');
    const previewContainer = document.getElementById('imagePreviewContainer');
    const nutritionResult = document.getElementById('nutritionResult');

    foodImageInput.addEventListener('change', () => {
      const file = foodImageInput.files[0];
      if (!file) return;

      // Show image preview
      const reader = new FileReader();
      reader.onload = function (e) {
        imagePreview.src = e.target.result;
        previewContainer.style.display = 'block';
        nutritionResult.style.display = 'none';
      }
      reader.readAsDataURL(file);

      // Simulate AI nutrition analysis (replace with real API call)
      setTimeout(() => {
        // Display sample nutrition data
        nutritionResult.style.display = 'block';
        document.getElementById('calories').textContent = '420';
        document.getElementById('protein').textContent = '25';
        document.getElementById('carbs').textContent = '50';
        document.getElementById('fat').textContent = '15';
        document.getElementById('fiber').textContent = '8';
      }, 1500); // simulate processing delay
    });
  </script>

</body>
</html>
